,id,revisions,comments,inline_comments,status,is_accepted,url,commit_message,exist_target_file,added_satd,is_added_satd,deleted_satd,is_deleted_satd,added_and_deleted_satd
2,156,2,6,4,MERGED,True,https://review.opendev.org/#/c/156,Adds swift_enable_snet config,True,{},False,"{""# TODO(sirp): snet=False for now, however, if the instance of # swift we're talking to is within our same region, we should set # snet=True"": 1}",True,{}
39,311,6,24,28,MERGED,True,https://review.opendev.org/#/c/311,Fixes LP Bug #827660 - Swift driver fail 5G upload,True,{},False,"{'# We do a HEAD on the newly-added image to determine the size # of the image. A bit slow, but better than taking the word # of the user adding the image with size attribute in the metadata': 1}",True,{}
37,346,1,1,0,MERGED,True,https://review.opendev.org/#/c/346,Fixes LP Bug #827660 - Swift driver fail 5G upload,True,{},False,"{'# We do a HEAD on the newly-added image to determine the size # of the image. A bit slow, but better than taking the word # of the user adding the image with size attribute in the metadata': 1}",True,{}
114,427,2,5,0,ABANDONED,False,https://review.opendev.org/#/c/427,separate proxy controllers from server module,True,{'# TODO: mock http connection class with more control over headers': 2},True,{'# TODO: mock http connection class with more control over headers': 2},True,{}
120,552,3,3,0,ABANDONED,False,https://review.opendev.org/#/c/552,Pull volume-cleanup-2 from bzr,True,"{""# FIXME(vish): I've kept the files during stop instance, but #              I think start will fail due to the files still"": 1, ""# FIXME(vish): I've kept the files during stop instance, but #              I think start will fail due to the files still #              existing.  I don't really know what the purpose of #              stop and start are when compared to pause and unpause"": 1, '# NOTE(justinsb): We remove the domain definition. We probably # would do better to keep it if cleanup=False (e.g. volumes?) # (e.g. #2 - not losing machines on failure)': 1, '# The /dev/disk/by-path/... node is not always present immediately # TODO(justinsb): This retry-with-delay is a pattern, move to utils?': 1, '# NOTE(vish): Copied discover from iscsi_driver since it is used #             but this should probably be refactored into a common #             area because it is used in libvirt driver.': 1, '# TODO(vish): refactor this into a more general ""reserve""': 1, '# TODO(vish): refactor this into a more general ""unreserve""': 1}",True,"{'# TODO(yamahata): # should move check_attach to volume manager?': 1, '# NOTE(justinsb): We remove the domain definition. We probably # would do better to keep it if cleanup=False (e.g. volumes?) # (e.g. #2 - not losing machines on failure)': 1, '# The /dev/disk/by-path/... node is not always present immediately # TODO(justinsb): This retry-with-delay is a pattern, move to utils?': 1}",True,{}
119,573,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/573,splitting up volume and compute coupling,True,"{'# FIXME(vish): why do we need dev_path?': 1, '# TODO(vish): refactor this into a more general ""unreserve""': 1}",True,{'# TODO(yamahata): # should move check_attach to volume manager?': 1},True,{}
125,579,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/579,more decoupling,True,{},False,{'# FIXME(vish): why do we need dev_path?': 1},True,{}
127,581,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/581,finish rewriting initialize and terminate,True,{},False,{'# TODO(GRUE): return the dict of love. # return mount_device': 1},True,{}
131,584,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/584,move login code to libvirt volume driver,True,{},False,"{'# The /dev/disk/by-path/... node is not always present immediately # TODO(justinsb): This retry-with-delay is a pattern, move to utils?': 1}",True,{}
140,592,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/592,fixing block device info in terminate,True,{'# NOTE(justinsb): We remove the domain definition. We probably # would do better to keep it if cleanup=False (e.g. volumes?) # (e.g. #2 - not losing machines on failure)': 1},True,{'# NOTE(justinsb): We remove the domain definition. We probably # would do better to keep it if cleanup=False (e.g. volumes?) # (e.g. #2 - not losing machines on failure)': 1},True,{}
160,607,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/607,pull in changes from manager,True,{},False,{'# FIXME(vish): we need a way to find the root device name on rebuild': 1},True,{}
169,618,6,20,7,MERGED,True,https://review.opendev.org/#/c/618,* Rework osapi to use network API not FK backref * Fixes lp854585,True,{},False,{'# TODO(sirp): This should eventually be the URI for the Glance image': 1},True,{}
214,620,9,16,10,MERGED,True,https://review.opendev.org/#/c/620,"Remove AoE, Clean up volume code",True,"{""# FIXME(vish): I've kept the files during stop instance, but #              I think start will fail due to the files still"": 1, ""# FIXME(vish): I've kept the files during stop instance, but #              I think start will fail due to the files still #              existing.  I don't really know what the purpose of #              stop and start are when compared to pause and unpause"": 1, '# NOTE(justinsb): We remove the domain definition. We probably # would do better to keep it if cleanup=False (e.g. volumes?) # (e.g. #2 - not losing machines on failure)': 1, '# The /dev/disk/by-path/... node is not always present immediately # TODO(justinsb): This retry-with-delay is a pattern, move to utils?': 1, '# NOTE(vish): Copied discover from iscsi_driver since it is used #             but this should probably be refactored into a common #             area because it is used in libvirt driver.': 1, '# TODO(vish): refactor this into a more general ""reserve""': 1, '# TODO(vish): refactor this into a more general ""unreserve""': 1}",True,"{'# TODO(yamahata): # should move check_attach to volume manager?': 1, '# NOTE(justinsb): We remove the domain definition. We probably # would do better to keep it if cleanup=False (e.g. volumes?) # (e.g. #2 - not losing machines on failure)': 1, '# The /dev/disk/by-path/... node is not always present immediately # TODO(justinsb): This retry-with-delay is a pattern, move to utils?': 1}",True,{}
194,628,6,22,9,MERGED,True,https://review.opendev.org/#/c/628,moved floating ip db access and sanity checking from network api into network manager added floating ip get by fixed address added fixed_ip_get moved floating ip testing from osapi into the network tests where they belong,True,{},False,"{'# FIXME(ja) - why does self.network_api.list_floating_ips raise?': 1, '# NOTE(tr3buchet): i don\'t like the ""either or"" argument type # funcationility but i\'ve left it alone for now # TODO(tr3buchet): this function needs to be rewritten to move # the network related db lookups into the network host code': 1}",True,{}
176,629,1,2,0,MERGED,True,https://review.opendev.org/#/c/629,Adds disk config,True,{},False,{'# TODO(sirp): This should eventually be the URI for the Glance image': 1},True,{}
202,640,5,14,13,MERGED,True,https://review.opendev.org/#/c/640,compute_api create*() and schedulers refactoring,True,"{""# TODO(comstud): We should use rpc.multicall when we can # retrieve the full instance dictionary from the scheduler. # Otherwise, we could exceed the AMQP max message size limit. # This would require the schedulers' schedule_run_instances # methods to return an iterator vs a list."": 1, ""# TODO(comstud): I would love to be able to return the full # instance information here, but we'll need some modifications # to the RPC code to handle datetime conversions with the # json encoding/decoding.  We should be able to set a default # json handler somehow to do it. # # For now, I'll just return the instance ID and let the caller # do a DB lookup :-/"": 1}",True,"{'# TODO(sandy): I guess someone needs to add block_device_mapping # support at some point? Also, OS API has no concept of security # groups.': 1, '# TODO(vish): this probably belongs in the manager, if we #             can generalize this somehow': 1, '# NOTE(vish): this probably belongs in the manager, if we #             can generalize this somehow': 1}",True,{}
183,651,1,5,3,MERGED,True,https://review.opendev.org/#/c/651,Fix the grantee group loading for source groups,True,{},False,{'# TODO(vish): Join to group and check for project_id': 1},True,{}
207,655,2,2,0,MERGED,True,https://review.opendev.org/#/c/655,Merge from launchpad quantum/diablo branch:,True,"{""# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # Version info # TODO(salvatore-orlando): replace here once Bug #826563 is fixed"": 1, ""# List of directories, relative to source directory, that shouldn't be searched # for source files."": 1}",True,"{'#TODO(ziad): maybe we rafactor this into a superclass # Applies to all protocols # Specific to this protocol': 1, '# TODO(Ziad): add additional details we may need, #             like tenant and group info': 1, '# Step 1: We need to auth with the keystone service, so get an # admin token #TODO(ziad): Need to properly implement this, where to store creds # for now using token from ini #TODO(salvatore-orlando): Temporarily restoring auth token retrieval, # with credentials in configuration file': 1, '##TODO(ziad):we need to figure out how to auth to keystone #since validate_token is a priviledged call #Khaled\'s version uses creds to get a token # ""X-Auth-Token"": admin_token} # we\'re using a test token from the ini file for now': 1, '#TODO(Ziad): there is an optimization we can do here. We have just #received data from Keystone that we can use instead of making #another call in _expound_claims': 1, ""#TODO(Ziad): make this more robust #first_group = token_info['auth']['user']['groups']['group'][0]"": 1, ""# TODO(Ziad): removed groups for now #            ,'group': '%s/%s' % (first_group['id'], #                                first_group['tenantId'])}"": 1, '#TODO(ziad): use a more sophisticated proxy # we are rewriting the headers now': 1, '#TODO(salvatore-orlando): This class should extend Middleware class # defined in common/wsgi.py': 1, '# This is bad, very bad': 1, '#TODO (salvatore-orlando): need bound checking here': 1}",True,{}
191,664,1,1,0,MERGED,True,https://review.opendev.org/#/c/664,Remove hack for figuring out the vif interface identifier (lp859864),True,{},False,{'# this is a hack that should go away once nova properly reports bindings # to quantum.  We have this here for now as it lets us work with # unmodified nova': 1},True,{}
229,697,2,7,0,MERGED,True,https://review.opendev.org/#/c/697,Deallocate ip if build fails.,True,"{'# TODO(tr3buchet) not really sure how this should be handled. # virt requires network_info to be passed in but stub_network # is enabled. Setting to [] for now will cause virt to skip # all vif creation and network injection, maybe this is correct': 1, '# FIXME(sirp): when/if # httpsgithub.com/jcrocholl/pep8/pull/27 merges, we can add # a per-line disable flag here for W602': 1}",True,"{'# TODO(tr3buchet) not really sure how this should be handled. # virt requires network_info to be passed in but stub_network # is enabled. Setting to [] for now will cause virt to skip # all vif creation and network injection, maybe this is correct': 1}",True,{}
252,730,1,3,0,MERGED,True,https://review.opendev.org/#/c/730,Refactoring registry api controllers,True,"{'# TODO(sirp): should this be a dict, or a list of dicts? # A plain dict is more convenient, but list of dicts would provide # access to created_at, etc': 1}",True,"{'# TODO(sirp): should this be a dict, or a list of dicts? # A plain dict is more convenient, but list of dicts would provide # access to created_at, etc': 1}",True,{}
282,809,6,18,15,ABANDONED,False,https://review.opendev.org/#/c/809,Build metadata as needed through callbacks.,True,"{'#TODO(wwolf): once we have ec2_id -> glance_id mapping # in place, this wont be necessary': 1}",True,"{'# TODO(vish): store ancestor ids': 1, '# TODO(vish): store product codes': 1}",True,{}
284,828,1,2,0,MERGED,True,https://review.opendev.org/#/c/828,Further changes to the cleaner.,True,{'# NOTE(jk0): This would be triggered if a VM was deleted but the # actual deletion process failed somewhere along the line.': 1},True,"{'# anything about the particular instance, print a warning and let # the operator handle it manually.': 1}",True,{}
287,830,2,8,5,MERGED,True,https://review.opendev.org/#/c/830,Xenapi driver can now generate swap from instance_type,True,"{""# NOTE(johannes): Unit tests will end up with a device called # 'autodetect' which obviously won't exist. It's not ideal, # but the alternatives were much messier"": 1}",True,"{'# FIXME(sirp): when/if # httpsgithub.com/jcrocholl/pep8/pull/27 merges, we can add # a per-line disable flag here for W602': 1, ""# NOTE(johannes): Unit tests will end up with a device called # 'autodetect' which obviously won't exist. It's not ideal, # but the alternatives were much messier"": 1, ""# vdi['vdi_type'] is either 'os' or 'swap', but we don't # really care what it is right here."": 2}",True,{}
290,834,1,2,0,ABANDONED,False,https://review.opendev.org/#/c/834,Coding style clean up through pep8 and pylint Complete geo tag as part of trust_state{} with default off,True,{'#TODO: (Fred) need error handling': 1},True,{'# also read PCR22 in #TODO:  need error handling': 1},True,{}
311,840,7,19,0,MERGED,True,https://review.opendev.org/#/c/840,Remove OSAPI v1.0,True,{},False,"{'# TODO: Confirm admin operations are available.': 1, '# TODO: Confirm admin operations are unavailable.': 1}",True,{}
319,877,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/877,Initial working version of generate_swap,True,"{'# FIXME(sirp); hard-coding for now, should pull from flavor': 1, ""# NOTE(johannes): Unit tests will end up with a device called # 'autodetect' which obviously won't exist. It's not ideal, # but the alternatives were much messier"": 1, '# FIXME(sirp): old style, REMOVE': 1, '# FIXME(sirp): temporary flag used for testing': 1}",True,"{""# NOTE(johannes): Unit tests will end up with a device called # 'autodetect' which obviously won't exist. It's not ideal, # but the alternatives were much messier"": 1}",True,{}
309,878,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/878,Pull swap from instance_type,True,{},False,"{'# FIXME(sirp); hard-coding for now, should pull from flavor': 1}",True,{}
314,881,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/881,Using new-style vdi attached here,True,{},False,"{'# FIXME(sirp): old style, REMOVE': 1}",True,{}
323,882,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/882,Using original exception raised handler,True,{},False,"{'# FIXME(sirp): when/if # httpsgithub.com/jcrocholl/pep8/pull/27 merges, we can add # a per-line disable flag here for W602': 1}",True,{}
333,892,6,15,2,MERGED,True,https://review.opendev.org/#/c/892,Refactoring nova.tests.api.openstack.test_images,True,{},False,"{'# TODO(jkoelker) Probably need to query for instance_type_id and #                make sure we get a valid one': 1, '# TODO(jkoelker) Make this mas bueno': 1, '# TODO(soren): We need this until we can stop polling in the rpc code #              for unit tests.': 1, ""# TODO(yamahata): s3._s3_create() can't be tested easily by unit test #                 as there is no unit test for s3.create() ## result = self.cloud.create_image(self.context, ec2_instance_id, ##                                  no_reboot=True) ## ec2_image_id = result['imageId'] ## created_image = self.cloud.describe_images(self.context, ##                                            [ec2_image_id])"": 1, '# TODO(yamahata): clean up snapshot created by CreateImage.': 1}",True,{}
337,900,3,18,0,MERGED,True,https://review.opendev.org/#/c/900,Start switching from gflags to optparse,True,"{'# # This horrendous hack allows us to stop optparse # exiting when it encounters an unknown option #': 1, ""# # FIXME(markmc): this doesn't support --boolflag=true/false/t/f/1/0 #"": 1, '# FIXME(markmc): ignoring lower_bound': 1}",True,"{""# We're doing some hacky stuff here so that we don't have to copy # out all the code of the original verbatim and then tweak a few lines. # We're hijacking the output of getopt so we can still return the # leftover args at the end"": 1}",True,{}
344,914,1,3,7,ABANDONED,False,https://review.opendev.org/#/c/914,Fix quantum/melange ipam interaction,True,"{""# There isn't a good way of figuring out what the ipam # tenant id should be before hand so we have to try both # (project_id and None)."": 1, '# TODO(bgh): At some point we should figure out whether or # not we want the verify_subnet_exists call to be optional.': 1, '# TODO(bgh): Would be nice if we could just do something like: # GET /ipam/tenants/{tenant_id}/networks/{network_id}/ instead # of searching through all the blocks.  Checking for a 404 # will then determine whether it exists.': 1}",True,"{'# FIXME(danwent):  Melange actually returns the subnet info # when we query for a particular interface.  We may want to # rework the ipam_manager python API to let us take advantage of # this, as right now we have to get all blocks and cycle through # them.': 1}",True,{}
374,916,10,30,49,MERGED,True,https://review.opendev.org/#/c/916,Add DHCP support to the QuantumManager and break apart dhcp/gateway,True,"{""# TODO(bgh): We'll need to enable these when we implement the full L3 # functionalities # self.driver.ensure_metadata_ip() # self.driver.metadata_forward()"": 1, '# TODO(bgh): Melange should probably track dhcp_start': 1, '# TODO(bgh): At some point we should consider merging enable_dhcp() and # update_dhcp()': 1, '# TODO(bgh): if this is the last instance for the network # then we should actually just kill the dhcp server.': 1, ""# NOTE(bgh): deallocate_for_instance will take care of this..  The reason # we're providing this is so that NetworkManager::release_fixed_ip() isn't # called.  It does some database operations that we don't want to happen # and since the majority of the stuff that it does is already taken care # of in our deallocate_for_instance call we don't need to do anything."": 1, '# TODO(bgh): This request fails if you add the "".json"" to the end so # it has to call do_request itself.  Melange bug?': 1, '# TODO(bgh): Rename this method .. it\'s now more of a # ""get_subnets_by_net_id_and_vif_id"" method, but we could probably just # call it ""get_subnets"".': 1, '# TODO(bgh): if this is the last instance for the network # then we should actually just kill the dhcp server. # TODO(bgh): At some point we should figure out whether or # not we want the verify_subnet_exists call to be optional.': 2, '# TODO(bgh): Would be nice if we could just do something like: # GET /ipam/tenants/{tenant_id}/networks/{network_id}/ instead # of searching through all the blocks.  Checking for a 404 # will then determine whether it exists.': 2}",True,"{""# TODO(bgh): The project_id isn't getting populated here for some # reason.. I'm not sure if it's an invalid assumption or just a bug. # In order to get the right quantum_net_id we'll have to query all the # project_ids for now."": 1, ""# There isn't a good way of figuring out what the ipam # tenant id should be before hand so we have to try both # (project_id and None)."": 1, '# FIXME(danwent):  Melange actually returns the subnet info # when we query for a particular interface.  We may want to # rework the ipam_manager python API to let us take advantage of # this, as right now we have to get all blocks and cycle through # them.': 2}",True,{}
348,935,1,2,0,MERGED,True,https://review.opendev.org/#/c/935,Fix the grantee group loading for source groups,True,{},False,{'# TODO(vish): Join to group and check for project_id': 1},True,{}
378,964,5,12,7,MERGED,True,https://review.opendev.org/#/c/964,Use UUIDs instead of IDs for OSAPI servers.,True,{},False,{'#FIXME(wwolf) Do we want the links to be id or uuid?': 1},True,{}
379,967,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/967,Indent domain removal to only be ran when it is not None.,True,{'# NOTE(justinsb): We remove the domain definition. We # probably would do better to keep it if # cleanup=False (e.g. volumes?) (e.g. #2 - not # losing machines on failure)': 1},True,{'# NOTE(justinsb): We remove the domain definition. We probably # would do better to keep it if cleanup=False (e.g. volumes?) # (e.g. #2 - not losing machines on failure)': 1},True,{}
387,978,1,1,0,ABANDONED,False,https://review.opendev.org/#/c/978,Add DHCP support to the QuantumManager and break apart dhcp/gateway,True,"{""# TODO(bgh): We'll need to enable these when we implement the full L3 # functionalities # self.driver.ensure_metadata_ip() # self.driver.metadata_forward()"": 1, '# TODO(bgh): Melange should probably track dhcp_start': 1, '# TODO(bgh): At some point we should consider merging enable_dhcp() and # update_dhcp()': 1, '# TODO(bgh): if this is the last instance for the network # then we should actually just kill the dhcp server.': 1, ""# NOTE(bgh): deallocate_for_instance will take care of this..  The reason # we're providing this is so that NetworkManager::release_fixed_ip() isn't # called.  It does some database operations that we don't want to happen # and since the majority of the stuff that it does is already taken care # of in our deallocate_for_instance call we don't need to do anything."": 1, '# TODO(bgh): This request fails if you add the "".json"" to the end so # it has to call do_request itself.  Melange bug?': 1, '# TODO(bgh): Rename this method .. it\'s now more of a # ""get_subnets_by_net_id_and_vif_id"" method, but we could probably just # call it ""get_subnets"".': 1}",True,"{""# TODO(bgh): The project_id isn't getting populated here for some # reason.. I'm not sure if it's an invalid assumption or just a bug. # In order to get the right quantum_net_id we'll have to query all the # project_ids for now."": 1}",True,{}
391,999,1,3,0,ABANDONED,False,https://review.opendev.org/#/c/999,Deallocate ip if build fails.,True,"{'# TODO(tr3buchet) not really sure how this should be handled. # virt requires network_info to be passed in but stub_network # is enabled. Setting to [] for now will cause virt to skip # all vif creation and network injection, maybe this is correct': 1, '# FIXME(sirp): when/if # httpsgithub.com/jcrocholl/pep8/pull/27 merges, we can add # a per-line disable flag here for W602': 1}",True,"{'# TODO(tr3buchet) not really sure how this should be handled. # virt requires network_info to be passed in but stub_network # is enabled. Setting to [] for now will cause virt to skip # all vif creation and network injection, maybe this is correct': 1}",True,{}
